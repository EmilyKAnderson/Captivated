
// main menu
#menu {
	position: fixed;
	z-index: 9997;
	top: 0;
	left: 0;
	overflow: visible;
	width: 100%;
	height: auto;
	transform: translateY(0px);
	transition: transform 1s ease-in-out;

	&.hide:not(.menu-is-open) {
		transform: translateY(-300px);
		transition: transform 1s ease-in-out;
	}


	&.menu-is-open {

		height: 100vh;
		width: 100vw;
		overflow: hidden;

			.menu-bg {
				top: 0;
		    width: 200vw;
		    background-color: $tertLight;
		    border: solid 2px $tertLight;
				transition: all .7s 0s cubic-bezier(0.42, 0.03, 0.54, 0.96);
				height: 300vh;
			}

		}

		&.show-toggle {

			.menu-bg {
				transition-delay: 0s;
			}

		}

	}

// btn wrapper for js-menu toggle
#menu .menu-btn-wrapper {
    position: absolute;
    z-index: 9999;
    cursor: pointer;
    top: 0;
    left: 0;
		width: 70vw;
		margin-left: $space;

		.menu-open {
			transform: translateX(0%);
			transition-delay: .8s;
			width:auto;
			height: $mbnavHeight;
			display: flex;
			align-items: center;
			left: -15px;

			@media #{$media-lg} {
					height: $navHeight;
					left: 0;
			}
		}

	 	.hamburger {
			display:flex;
			position: relative;
			margin-right: $space/2;
		}

		.logo {
			position: relative;
			width: 190px;
			margin: 0 auto;
			display: flex;
			z-index: 9997;
			height: 100%;

			@media #{$media-lg} {
				width: 220px;
			}
		}

		div {
			position: absolute;
			top: 0;
			left: 0;
			width: auto;
			height: auto;
		}

}

.menu-is-open#menu {

		.menu-btn-wrapper {
				.menu-open {
						transition-delay: 1s;
				}
				.logo {
					transition-delay: 0s;
					@include transition();
					>* {
						fill: #fff;
					}
				}
		}

	& +	nav {
				transition: z-index 0s 0s ease;
				z-index: 9997;

				li {
					transform: translate3D(0, 0, 0);
					opacity: 1;
				}
		}
}

#menu .nav-bg {
		box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.1);
    position: fixed;
    top: 0;
		width: 100%;
		height: $mbnavHeight;
    left: 0;
    z-index: 9995;
    background-color: #fff;
		@include transition();
    backface-visibility: hidden;
		border-bottom: 1px solid $grayLight;

		@media #{$media-lg} {
				height: $navHeight;
		}

}

// triangle menu background
.menu-bg {
    position: fixed;
    top: -130px;
    left: -300px;
    z-index: 9996;
    width: 300px;
    height: 130px;
    background-color: $tertLight;
    box-sizing: border-box;
    animation-transform-origin: top left;
    transform-origin: top left;
    transition: all .7s 0s cubic-bezier(0.46, 0.03, 0.52, 0.96);
    backface-visibility: hidden;
    transform: skewY(-30deg);
    border: solid 2px $tertLight;


}

// right hand side verticle buttons
.nav-cta {
    display: flex;
		align-items: center;
		height: $mbnavHeight;
		margin-right: $space;
		display: none;

		@media #{$media-sm} {
			display: flex;
		}

		@media #{$media-lg} {
				height: $navHeight;
		}
}
.nav-cta {
    position: fixed;
		z-index: 9995;
    top: 0px;
    right: 0px;

		.main-action {
			font-weight: 500;
			text-transform: uppercase;
			color:$tertLight;
			padding: $space/4 $space/1.5;
			@include transition();
			font-size: responsive 12px 14px;
			letter-spacing: 2px;
			display: flex;
			align-items: center;

			i {
				font-size: responsive 16px 26px;
				line-height: 1.4;
				display: flex;
				padding-right: 10px;
				color: $primeLight;
				@include transition();
			}

			&:last-child {
				border: 2px solid $secLight;
				border-radius: $btnBorderRadius/2;
				margin-left: $space/2;

				&:hover {
					background-color: $secLight;
					color: #fff;
				}
			}

			&:hover  {
				color: $secDark;

				i {
					color: $linkLight;
				}
			}

		}

	}

	.utility-nav .utility-item {
		display: none;
		color:$tertLight;

			@media #{$media-lg} {
				display: block;
		}
	}

nav {
		position: fixed;
		left: 0;right:0; top: 0; bottom:0;
		width: 100vw;
	  // height: 100%;
		overflow-y: scroll;
		margin-top: $space*2;
		z-index:-200;
		transition: z-index 0s .8s ease;

	ul:first-child {
    width: 100vw;
    display: flex;
		padding:  $space*2 0 0  $space;
    flex-direction: column;
    float: left;
		height: 100%;
		padding-left: 0;
		justify-content: flex-start;

			li {
				// width: 100%;
				text-align: left;
		    transform: translate3D(0, 50px, 0);
		    opacity: 0;
				@include transition-nav();

				a {
					padding: $space/8 $space/2;
					display:inline-block;
					text-align: left;
					color:#fff;
					font-size: responsive 20px 50px;
					margin-left: $space/2;
					margin-bottom: $space/3;

						&.active {
								// background-color: $tertDark;
								// color: $primeLight;
								border-bottom: 2px dashed $primeDark;
							}

					@media #{$media-lg} {
						margin-left: $space*2;
						margin-bottom: $space/2;
					}

					&:hover {
						color: $secLight;
						@include transition();
					}
				}


				// fancy way of saying last child - could change the 1 to 2 and it would be last 2 children
				&:nth-last-of-type(-n+1) {
						display: flex;
						margin-top: $space;
						padding-left: $space;

							@media #{$media-lg} {
								margin-left: 0;
							}

						a {
							@extend %btn-sm;
								margin-right: $space/2;
						}

					}


			} //end li

 		}

	}
